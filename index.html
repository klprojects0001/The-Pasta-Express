
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Pasta Express | Authentic Italian Hand-Crafted Pasta</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; scroll-behavior: smooth; }
        h1, h2, h3, .font-serif { font-family: 'Playfair Display', serif; }
        
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideUp { from { opacity: 0; transform: translateY(40px); } to { opacity: 1; transform: translateY(0); } }
        
        .animate-fade-in { animation: fadeIn 0.4s ease-out forwards; }
        .animate-slide-up { animation: slideUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }

        .modal-backdrop { background-color: rgba(15, 23, 42, 0.6); backdrop-filter: blur(8px); }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
    <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@19.0.0",
    "react-dom": "https://esm.sh/react-dom@19.0.0",
    "react-dom/client": "https://esm.sh/react-dom@19.0.0/client",
    "@google/genai": "https://esm.sh/@google/genai@1.38.0",
    "react-dom/": "https://esm.sh/react-dom@^19.2.4/",
    "react/": "https://esm.sh/react@^19.2.4/"
  }
}
</script>
</head>
<body class="bg-[#faf9f6] text-slate-900">
    <div id="root"></div>

    <script type="module">
        import React, { useState, useEffect, useRef } from 'react';
        import { createRoot } from 'react-dom/client';
        import { GoogleGenAI } from "@google/genai";

        // --- CONSTANTS ---
        const MENU_ITEMS = [
            { id: '1', name: 'Truffle Arancini', description: 'Crispy risotto balls filled with wild mushroom and truffle oil.', price: '$14.00', category: 'Starters', image: 'https://images.unsplash.com/photo-1541529086526-db283c563270?auto=format&fit=crop&q=80&w=600', tags: ['Vegetarian', 'Popular'] },
            { id: '2', name: 'Classic Bruschetta', description: 'Toasted sourdough topped with heirloom tomatoes and aged balsamic.', price: '$12.00', category: 'Starters', image: 'https://images.unsplash.com/photo-1572656631137-7935297eff55?auto=format&fit=crop&q=80&w=600' },
            { id: '3', name: 'Pappardelle Bolognese', description: 'Wide ribbon pasta served with our signature 8-hour slow-cooked ragu.', price: '$26.00', category: 'Mains', image: 'https://images.unsplash.com/photo-1598866594230-a1a1947057e1?auto=format&fit=crop&q=80&w=600', tags: ['Signature'] },
            { id: '4', name: 'Lobster Ravioli', description: 'Hand-made ravioli stuffed with Atlantic lobster in saffron cream sauce.', price: '$34.00', category: 'Mains', image: 'https://images.unsplash.com/photo-1551183053-bf91a1d81141?auto=format&fit=crop&q=80&w=600', tags: ['Premium'] },
            { id: '5', name: 'Wild Mushroom Risotto', description: 'Creamy rice with porcini mushrooms, parmesan, and fresh herbs.', price: '$24.00', category: 'Mains', image: 'https://images.unsplash.com/photo-1476124369491-e7addf5db371?auto=format&fit=crop&q=80&w=600', tags: ['Vegetarian'] },
            { id: '6', name: 'Tiramisu Classico', description: 'Layers of espresso-soaked ladyfingers and mascarpone cream.', price: '$10.00', category: 'Desserts', image: 'https://images.unsplash.com/photo-1571877227200-a0d98ea607e9?auto=format&fit=crop&q=80&w=600' }
        ];

        // --- COMPONENTS ---

        const ReservationModal = ({ isOpen, onClose }) => {
            const [status, setStatus] = useState('idle');
            if (!isOpen) return null;

            const handleSubmit = (e) => {
                e.preventDefault();
                setStatus('submitting');
                setTimeout(() => {
                    setStatus('success');
                    setTimeout(() => { setStatus('idle'); onClose(); }, 2500);
                }, 1500);
            };

            return (
                <div className="fixed inset-0 z-[100] flex items-center justify-center p-4">
                    <div className="absolute inset-0 modal-backdrop animate-fade-in" onClick={() => status !== 'submitting' && onClose()} />
                    <div className="relative bg-white w-full max-w-2xl rounded-[2.5rem] shadow-2xl overflow-hidden animate-slide-up flex flex-col md:flex-row">
                        <div className="hidden md:flex md:w-1/3 bg-amber-900 p-8 text-white flex-col justify-between">
                            <h2 className="text-3xl font-serif">Reserve a Table</h2>
                            <p className="text-amber-100/70 text-sm italic">"Authentic Italian, right in your neighborhood."</p>
                            <div className="text-xs text-amber-100/50">Mon-Sun: 11:30 - 23:00</div>
                        </div>
                        <div className="flex-1 p-8 lg:p-12">
                            <button onClick={onClose} className="absolute top-6 right-6 text-slate-400 hover:text-slate-600"><svg className="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" /></svg></button>
                            {status === 'success' ? (
                                <div className="h-full flex flex-col items-center justify-center text-center py-10">
                                    <div className="w-16 h-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center mb-4"><svg className="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={3} d="M5 13l4 4L19 7" /></svg></div>
                                    <h3 className="text-2xl font-serif mb-2">Booking Confirmed!</h3>
                                    <p className="text-slate-500">Grazie, we look forward to serving you.</p>
                                </div>
                            ) : (
                                <form onSubmit={handleSubmit} className="space-y-4">
                                    <h3 className="text-2xl font-serif mb-6">Your Details</h3>
                                    <input required placeholder="Full Name" className="w-full px-4 py-3 bg-slate-50 rounded-xl border-none focus:ring-2 focus:ring-amber-800" />
                                    <div className="grid grid-cols-2 gap-4">
                                        <input required type="date" className="w-full px-4 py-3 bg-slate-50 rounded-xl border-none focus:ring-2 focus:ring-amber-800" />
                                        <input required type="time" className="w-full px-4 py-3 bg-slate-50 rounded-xl border-none focus:ring-2 focus:ring-amber-800" />
                                    </div>
                                    <select className="w-full px-4 py-3 bg-slate-50 rounded-xl border-none focus:ring-2 focus:ring-amber-800">
                                        {[2,3,4,5,6,7,8].map(n => <option key={n} value={n}>{n} Guests</option>)}
                                    </select>
                                    <button disabled={status === 'submitting'} className="w-full bg-amber-800 text-white py-4 rounded-xl font-bold hover:bg-amber-900 transition-all shadow-xl disabled:opacity-50">
                                        {status === 'submitting' ? 'Processing...' : 'Confirm Booking'}
                                    </button>
                                </form>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        const AiConcierge = () => {
            const [isOpen, setIsOpen] = useState(false);
            const [messages, setMessages] = useState([{ role: 'model', text: 'Ciao! I am Pasta Buddy. What kind of flavors are you craving today?' }]);
            const [input, setInput] = useState('');
            const [loading, setLoading] = useState(false);
            const scrollRef = useRef(null);

            useEffect(() => { if (scrollRef.current) scrollRef.current.scrollTop = scrollRef.current.scrollHeight; }, [messages]);

            const handleSend = async () => {
                if (!input.trim() || loading) return;
                const userMsg = input;
                setInput('');
                setMessages(p => [...p, { role: 'user', text: userMsg }]);
                setLoading(true);

                try {
                    const ai = new GoogleGenAI({ apiKey: process.env.API_KEY });
                    const menuStr = JSON.stringify(MENU_ITEMS.map(m => m.name));
                    const response = await ai.models.generateContent({
                        model: "gemini-3-flash-preview",
                        contents: userMsg,
                        config: {
                            systemInstruction: `You are Pasta Buddy for 'The Pasta Express'. Use this menu: ${menuStr}. Recommend one dish enthusiastically and briefly.`,
                        }
                    });
                    setMessages(p => [...p, { role: 'model', text: response.text }]);
                } catch {
                    setMessages(p => [...p, { role: 'model', text: "I'm dreaming of pasta right now. Try our signature Bolognese!" }]);
                } finally { setLoading(false); }
            };

            return (
                <div className="fixed bottom-8 right-8 z-[100]">
                    {isOpen ? (
                        <div className="bg-white w-[350px] h-[500px] rounded-3xl shadow-2xl flex flex-col overflow-hidden border border-slate-100 animate-slide-up">
                            <div className="bg-amber-800 p-4 text-white flex justify-between items-center">
                                <span className="font-bold flex items-center gap-2">üçù Pasta Buddy</span>
                                <button onClick={() => setIsOpen(false)}><svg className="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" /></svg></button>
                            </div>
                            <div ref={scrollRef} className="flex-grow overflow-y-auto p-4 space-y-4 bg-slate-50">
                                {messages.map((m, i) => (
                                    <div key={i} className={`flex ${m.role === 'user' ? 'justify-end' : 'justify-start'}`}>
                                        <div className={`max-w-[85%] p-3 rounded-2xl text-sm ${m.role === 'user' ? 'bg-amber-800 text-white rounded-tr-none' : 'bg-white text-slate-700 border border-slate-100 rounded-tl-none'}`}>{m.text}</div>
                                    </div>
                                ))}
                                {loading && <div className="text-xs text-slate-400 animate-pulse">Pasta Buddy is thinking...</div>}
                            </div>
                            <div className="p-4 bg-white border-t border-slate-100 flex gap-2">
                                <input value={input} onChange={e => setInput(e.target.value)} onKeyDown={e => e.key === 'Enter' && handleSend()} placeholder="I want something spicy..." className="flex-grow px-4 py-2 bg-slate-100 rounded-xl text-sm border-none focus:ring-2 focus:ring-amber-800" />
                                <button onClick={handleSend} className="bg-amber-800 text-white p-2 rounded-xl"><svg className="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" /></svg></button>
                            </div>
                        </div>
                    ) : (
                        <button onClick={() => setIsOpen(true)} className="bg-amber-800 text-white w-16 h-16 rounded-full shadow-2xl flex items-center justify-center hover:scale-110 transition-transform text-3xl">üçù</button>
                    )}
                </div>
            );
        };

        const App = () => {
            const [isBookingOpen, setIsBookingOpen] = useState(false);
            const [activeTab, setActiveTab] = useState('Mains');

            return (
                <div className="min-h-screen">
                    {/* Navbar */}
                    <nav className="fixed top-0 left-0 right-0 bg-white/80 backdrop-blur-md z-50 border-b border-slate-100 h-20 flex items-center">
                        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full flex justify-between items-center">
                            <span className="text-2xl font-bold font-serif text-amber-800">The Pasta Express</span>
                            <div className="hidden md:flex space-x-8 items-center">
                                <a href="#menu" className="text-slate-600 hover:text-amber-800 font-medium">Menu</a>
                                <a href="#about" className="text-slate-600 hover:text-amber-800 font-medium">Our Story</a>
                                <button onClick={() => setIsBookingOpen(true)} className="bg-amber-800 text-white px-6 py-2.5 rounded-full font-semibold hover:bg-amber-900 transition-all shadow-lg">Book a Table</button>
                            </div>
                        </div>
                    </nav>

                    {/* Hero */}
                    <section className="relative h-screen flex items-center justify-center text-center px-4">
                        <div className="absolute inset-0 z-0"><img src="https://images.unsplash.com/photo-1473093226795-af9932fe5856?auto=format&fit=crop&q=80&w=2000" className="w-full h-full object-cover brightness-[0.4]" /></div>
                        <div className="relative z-10 max-w-4xl">
                            <span className="text-amber-400 font-semibold tracking-widest uppercase mb-4 block animate-fade-in">Hand-Crafted Since 2008</span>
                            <h1 className="text-5xl md:text-8xl font-serif text-white mb-8 leading-tight">Every Strand Tells a <span className="italic">Story</span></h1>
                            <div className="flex gap-4 justify-center">
                                <button onClick={() => setIsBookingOpen(true)} className="bg-amber-600 text-white px-10 py-4 rounded-full text-lg font-bold hover:bg-amber-700 transition-all shadow-xl">Book Now</button>
                                <a href="#menu" className="bg-white/10 backdrop-blur-md text-white border border-white/30 px-10 py-4 rounded-full text-lg font-bold hover:bg-white/20 transition-all">View Menu</a>
                            </div>
                        </div>
                    </section>

                    {/* About Section */}
                    <section id="about" className="py-24 bg-white">
                        <div className="max-w-7xl mx-auto px-4 grid md:grid-cols-2 gap-16 items-center">
                            <img src="https://images.unsplash.com/photo-1551183053-bf91a1d81141?auto=format&fit=crop&q=80&w=800" className="rounded-[3rem] shadow-2xl" />
                            <div>
                                <span className="text-amber-800 font-bold uppercase tracking-widest text-sm mb-4 block">Our Story</span>
                                <h2 className="text-4xl md:text-5xl font-serif mb-8">Tradition meets the modern plate.</h2>
                                <p className="text-lg text-slate-600 mb-6">We use only four ingredients for our dough: double-zero flour, pasture-raised eggs, sea salt, and passion.</p>
                                <button onClick={() => setIsBookingOpen(true)} className="text-amber-800 font-bold border-b-2 border-amber-800 pb-1">Reserve your experience ‚Üí</button>
                            </div>
                        </div>
                    </section>

                    {/* Menu Section */}
                    <section id="menu" className="py-24 bg-[#faf9f6]">
                        <div className="max-w-7xl mx-auto px-4 text-center">
                            <h2 className="text-4xl md:text-5xl font-serif mb-12">Our Seasonal Menu</h2>
                            <div className="flex justify-center gap-4 mb-16 overflow-x-auto hide-scrollbar">
                                {['Starters', 'Mains', 'Desserts'].map(cat => (
                                    <button key={cat} onClick={() => setActiveTab(cat)} className={`px-8 py-3 rounded-full font-bold transition-all ${activeTab === cat ? 'bg-amber-800 text-white shadow-xl' : 'bg-white text-slate-500 hover:bg-slate-50'}`}>{cat}</button>
                                ))}
                            </div>
                            <div className="grid md:grid-cols-2 gap-8 text-left">
                                {MENU_ITEMS.filter(i => i.category === activeTab).map(item => (
                                    <div key={item.id} className="bg-white p-6 rounded-3xl shadow-sm hover:shadow-md transition-shadow flex gap-6">
                                        <img src={item.image} className="w-24 h-24 rounded-2xl object-cover" />
                                        <div className="flex-1">
                                            <div className="flex justify-between items-start mb-1">
                                                <h3 className="text-xl font-serif font-bold">{item.name}</h3>
                                                <span className="text-amber-800 font-bold">{item.price}</span>
                                            </div>
                                            <p className="text-slate-500 text-sm leading-relaxed mb-2">{item.description}</p>
                                            {item.tags?.map(t => <span key={t} className="text-[10px] bg-amber-50 text-amber-700 px-2 py-1 rounded-md font-bold mr-2 uppercase">{t}</span>)}
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </section>

                    <footer className="bg-slate-900 py-16 text-slate-400 text-center">
                        <h3 className="text-2xl font-serif text-white mb-6">The Pasta Express</h3>
                        <p className="text-sm">¬© {new Date().getFullYear()} The Pasta Express. Crafted with love.</p>
                    </footer>

                    <ReservationModal isOpen={isBookingOpen} onClose={() => setIsBookingOpen(false)} />
                    <AiConcierge />
                </div>
            );
        };

        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
